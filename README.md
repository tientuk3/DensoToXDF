# DensoToXDF
Script to pull data from Denso SuperH ECU map lookup table and autogenerate a TunerPro definiton file. Compatible with SH7052, SH7054 etc.

### Introduction

Denso SH-based ECUs contain a map lookup table, which specifies most of the maps (=precalculated functions) used by the ECU logic (such as ignition or fuel parameters as a function of various other data).
The lookup table contains the dimensions of the map, the hexadecimal offsets for the axis and map data, and their data format.
This program pulls that information and writes a TunerPro definition file based on the data, which one can use to further examine, name and adjust the maps in TunerPro.
By default, the maps will be named as follows: **"(2D or 3D) map x(x-axis length)y(y-axis length) at (z-axis data offset)"**. This way the maps can be ordered
based on the offset of the actual map data, which usually gives hints about their application. Usually maps related to the same data are located one after another.

The list generated by the program is comprehensive, but not exhaustive. The reason being is that some smaller "maps" (switch-type parameters, and such) are not specified in the lookup table,
but are stored and referenced word by word. Finding these will require some reverse engineering with your favorite disassembler.

### How to use

Run xdfgenerator.py and provide the file name of the binary and the start address of the lookup table as prompted. This address varies from model to model,
but at least 0x28000 and 0x2C000 are common. It should be obvious to find this address by looking for a pattern of pointers. Study the source code for more info.

### Supported models

At least numerous motorcycles (Suzuki, Kawasaki) from the Denso SuperH era (~2002-2010) and apparently many Japanese cars as well. Test it out.

